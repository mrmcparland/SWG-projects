@model GuildCars.UI2.Models.PurchaseVehicleViewModel

@{
    ViewBag.Title = "UnsoldInventoryDetail";
}

<h2>Purchase Vehicle</h2>



<h2>Sales Information</h2>
<div class="col-xs-12">


    @using (Html.BeginForm("UnsoldInventoryDetail", "Unsold", FormMethod.Post, new { enctype = "multipart/form-data", id = "salesLog" }))
    {
        @Html.ValidationSummary()
        @Html.HiddenFor(m=>m.Vehicles.VehicleID)
        @Html.HiddenFor(m => m.Vehicles.MSRP)
        @Html.HiddenFor(m=>m.Vehicles.SalesPrice)
        @Html.HiddenFor(m=>m.Vehicles.isSold)
        <div class="col-lg-12" id="usedSearchResults">

            <div class="col-lg-3">

                <p>@Model.Vehicles.VehicleYear    @Model.Vehicles.Make  @Model.Vehicles.Model  </p>
                <p><img src="@Url.Content("~/Images/" + Model.Vehicles.VehicleImage)" /></p>
            </div>
            <div class="col-lg-9">
                <table id="usedVehicles">
                    <tbody>
                        <tr>
                            <td>
                                <strong>Body Syle: </strong>  @Model.Vehicles.BodyStyle
                            </td>
                            <td>
                                <strong>Interior: </strong>@Model.Vehicles.IntColor
                            </td>
                            <td>
                                <strong>Sales Price: </strong>@Model.Vehicles.SalesPrice.ToString("c")
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>Trans: </strong>@Model.Vehicles.IsManual
                            </td>
                            <td>
                                <strong>Mileage: </strong>@Model.Vehicles.Mileage
                            </td>
                            <td>
                                <strong>MSRP: </strong>@Model.Vehicles.MSRP.ToString("c")
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <strong>Color: </strong>@Model.Vehicles.ExtColor
                            </td>
                            <td>
                                <strong>VIN #: </strong>@Model.Vehicles.VIN
                            </td>

                        </tr>
                    </tbody>
                </table>
                <div>
                    <strong>Description:</strong> @Model.Vehicles.VehicleDescription
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <label>Name</label>
            </div>
            <div class="col-sm-3 col-md-3">
                <label>Phone</label>
            </div>
            <br />
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.CustomerName, new { @class = "form-control" })
                    
                </div>
            </div>
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.PhoneNumber, new { @class = "form-control" })
                </div>
                <br />
                <br />

            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 col-md-3">
                <label>Email</label>
            </div>

            <br />
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.Email, new { @class = "form-control" })
                </div>
                <br />
                <br />
            </div>

        </div>

        <div class="row">
            <div class="col-sm-3 col-md-3">
                <label>Street 1</label>
            </div>
            <div class="col-sm-3 col-md-3">
                <label>Street 2</label>
            </div>
            <br />
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.StreetAdd1, new { @class = "form-control" })
                </div>
            </div>
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.StreetAdd2, new { @class = "form-control" })
                </div>
                <br />
                <br />


            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 col-md-3">
                <label>City</label>
            </div>
            <div class="col-sm-3 col-md-3">
                <label>State</label>
            </div>
            <br />
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.City, new { @class = "form-control" })
                </div>
            </div>
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.DropDownListFor(m => m.VehicleSales.StateID, Model.States, new { @class = "form-control" })

                </div>
                <br />
                <br />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 col-md-3">
                <label>Zipcode</label>
            </div>

            <br />
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3">
                <div class="form-group">
                    @Html.TextBoxFor(m => m.VehicleSales.Zipcode, new { @class = "form-control" })
                </div>
            </div>

        </div>


        <hr />






        <div class="col-xs-12">
            <form>
                <div class="row">
                    <div class="col-sm-3 col-md-3">
                        <label>Purchase Price</label>
                    </div>
                    <div class="col-sm-3 col-md-3">
                        <label>Purchase Type</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-3 col-md-3">
                        @Html.TextBoxFor(m => m.VehicleSales.SalesPrice, new { @class = "form-control" })
                        <br />
                        <br />
                        <button class="btn btn-primary">Save</button>

                    </div>
                    <div class="col-sm-3 col-md-3">
                        @Html.DropDownListFor(m => m.VehicleSales.PmtType, Model.PmtType, new { @class = "form-control" })
                    </div>
                </div>

            </form>
        </div>
    }
</div>






@section Scripts
{
    <script>

        // Add US Phone Validation
        jQuery.validator.addMethod('phoneUS', function (phone_number, element) {
            phone_number = phone_number.replace(/\s+/g, '');
            return this.optional(element) || phone_number.length > 9 &&
                phone_number.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/);
        }, 'Please enter a valid phone number as 9 to 10 digits, with or without dashes');
        $(document).ready(function () {
            $('#salesLog').validate({
                rules: {
                    'VehicleSales.CustomerName': {
                        required: true
                    },
                    'VehicleSales.PhoneNumber': {
                        phoneUS: true
                    },
                    'VehicleSales.Email': {
                        
                        email:true
                        
                    },
                    'VehicleSales.StreetAdd1': {
                        required: true
                    },

                    'VehicleSales.City': {
                        required: true
                    },
                    'VehicleSales.Zipcode': {
                        required: true,
                        number: true,
                        minlength: 5,
                        maxlength:5
                    },
                    'VehicleSales.SalesPrice': {
                        required: true,
                        number: true,
                        min:1
                    }
                }
            });
        });
    </script>
}

